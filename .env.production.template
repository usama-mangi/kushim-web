# ==============================================
# BACKEND PRODUCTION ENVIRONMENT VARIABLES
# ==============================================
# Copy this file to .env in apps/backend/ and fill in the values

# ----------------
# Node Environment
# ----------------
NODE_ENV=production
PORT=3001

# ----------------
# Application URLs
# ----------------
APP_NAME="Kushim API"
APP_URL=https://api.kushim.com
FRONTEND_URL=https://app.kushim.com

# ----------------
# Database (PostgreSQL)
# ----------------
# Render PostgreSQL format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://kushim:YOUR_PASSWORD@dpg-xxxxx.oregon-postgres.render.com/kushim

# ----------------
# Redis Cache
# ----------------
# Render Redis format: redis://user:password@host:port
REDIS_URL=redis://red-xxxxx:6379
REDIS_HOST=red-xxxxx.oregon-redis.render.com
REDIS_PORT=6379
REDIS_PASSWORD=YOUR_REDIS_PASSWORD

# ----------------
# JWT Authentication
# ----------------
# Generate with: openssl rand -base64 64
JWT_SECRET=YOUR_SUPER_SECRET_JWT_KEY_CHANGE_THIS_IN_PRODUCTION
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=YOUR_SUPER_SECRET_REFRESH_KEY_CHANGE_THIS_IN_PRODUCTION
JWT_REFRESH_EXPIRES_IN=30d

# ----------------
# Security
# ----------------
BCRYPT_ROUNDS=12
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# ----------------
# Email Configuration (SendGrid recommended)
# ----------------
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=apikey
SMTP_PASSWORD=YOUR_SENDGRID_API_KEY
SMTP_FROM=noreply@kushim.com

# ----------------
# AWS Configuration
# ----------------
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
AWS_S3_BUCKET=kushim-evidence-production

# Alternative: Cloudflare R2
# R2_ACCOUNT_ID=YOUR_R2_ACCOUNT_ID
# R2_ACCESS_KEY_ID=YOUR_R2_ACCESS_KEY
# R2_SECRET_ACCESS_KEY=YOUR_R2_SECRET_KEY
# R2_BUCKET_NAME=kushim-evidence

# ----------------
# OAuth Callback URLs
# ----------------
OKTA_CALLBACK_URL=https://api.kushim.com/api/integrations/okta/callback
GITHUB_CALLBACK_URL=https://api.kushim.com/api/integrations/github/callback
SLACK_CALLBACK_URL=https://api.kushim.com/api/integrations/slack/callback

# ----------------
# Integration API Keys
# ----------------

# Okta
OKTA_CLIENT_ID=YOUR_OKTA_CLIENT_ID
OKTA_CLIENT_SECRET=YOUR_OKTA_CLIENT_SECRET
OKTA_DOMAIN=YOUR_DOMAIN.okta.com

# GitHub
GITHUB_CLIENT_ID=YOUR_GITHUB_CLIENT_ID
GITHUB_CLIENT_SECRET=YOUR_GITHUB_CLIENT_SECRET
GITHUB_TOKEN=YOUR_GITHUB_PERSONAL_ACCESS_TOKEN

# Slack
SLACK_CLIENT_ID=YOUR_SLACK_CLIENT_ID
SLACK_CLIENT_SECRET=YOUR_SLACK_CLIENT_SECRET
SLACK_SIGNING_SECRET=YOUR_SLACK_SIGNING_SECRET

# Jira
JIRA_CLIENT_ID=YOUR_JIRA_CLIENT_ID
JIRA_CLIENT_SECRET=YOUR_JIRA_CLIENT_SECRET
JIRA_CLOUD_ID=YOUR_JIRA_CLOUD_ID

# ----------------
# Monitoring & Logging (Optional)
# ----------------
# SENTRY_DSN=YOUR_SENTRY_DSN
# DATADOG_API_KEY=YOUR_DATADOG_API_KEY
# NEW_RELIC_LICENSE_KEY=YOUR_NEW_RELIC_KEY
